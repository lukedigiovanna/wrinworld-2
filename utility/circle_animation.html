<!DOCTYPE html>
<html>
    <body>
        <canvas id="canvas" width="16" height="16" style="width:320px;height:320px;image-rendering: pixelated;"></canvas>
        <input id="slider" type="range" min="0" max="16" />
        <script>
            const canvas = document.getElementById("canvas");
            const ctx = canvas.getContext("2d");

            function render(p) {
                const R = canvas.width / 2;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.beginPath();
                ctx.strokeStyle="gray";
                ctx.lineWidth=R;
                ctx.arc(R,R,R/2,-Math.PI / 2 + p * Math.PI * 2, 3 * Math.PI / 2);
                ctx.stroke();
                ctx.beginPath();
                ctx.strokeStyle = "magenta";
                ctx.lineWidth = R/16;
                const angle = -Math.PI / 2 + p * Math.PI * 2;
                ctx.arc(R, R, R - R/16/2, angle, 3 * Math.PI / 2);
                ctx.stroke();
                if (p !== 0) {
                    ctx.beginPath();
                    ctx.moveTo(R, R);
                    ctx.lineTo(R, 0);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(R, R);
                    ctx.lineTo(R + Math.cos(angle) * R, R + Math.sin(angle) * R);
                    ctx.stroke();
                    ctx.fillStyle = "magenta";
                    ctx.fillRect(R - R/16 /2, R - R/16/2, R/16, R/16);
                }
            }

            document.getElementById("slider").addEventListener("input", (e) => {
                console.log();
                render(e.target.value / 16);
            })
        </script>
    </body>
</html>